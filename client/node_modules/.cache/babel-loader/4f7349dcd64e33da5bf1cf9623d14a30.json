{"ast":null,"code":"import { takeEvery, call, put } from 'redux-saga/effects';\nimport shopActionTypes from './shop.types.jsx';\nimport { firestore, convertCollectionsToMap } from '../../firebase.util.js';\nimport { fetchCollectionSuccess, fetchCollectionError } from './shop.action.jsx';\nexport function* fetchCollectionAsync() {\n  try {\n    const collectionRef = yield firestore.collection('collection');\n    const snapshot = yield collectionRef.get();\n    const collectionMap = yield call(convertCollectionsToMap, snapshot);\n    yield put(fetchCollectionSuccess(collectionMap));\n  } catch (err) {\n    yield put(fetchCollectionError(err.message));\n  }\n}\nexport function* fetchCollectionAsyncStart() {\n  yield takeEvery(shopActionTypes.FETCH_COLLECTION_START, fetchCollectionAsync);\n}","map":{"version":3,"sources":["/media/afwani/3D2F2E7121F9CF4F/crwn-clothing/client/src/redux/shop/shop.sagas.jsx"],"names":["takeEvery","call","put","shopActionTypes","firestore","convertCollectionsToMap","fetchCollectionSuccess","fetchCollectionError","fetchCollectionAsync","collectionRef","collection","snapshot","get","collectionMap","err","message","fetchCollectionAsyncStart","FETCH_COLLECTION_START"],"mappings":"AAAA,SAAUA,SAAV,EAAoBC,IAApB,EAAyBC,GAAzB,QAAoC,oBAApC;AACA,OAAOC,eAAP,MAA4B,kBAA5B;AACA,SAASC,SAAT,EAAmBC,uBAAnB,QAAkD,wBAAlD;AACA,SACCC,sBADD,EAECC,oBAFD,QAGO,mBAHP;AAKA,OAAO,UAAUC,oBAAV,GAAgC;AACtC,MAAG;AACF,UAAMC,aAAa,GAAG,MAAML,SAAS,CAACM,UAAV,CAAqB,YAArB,CAA5B;AACA,UAAMC,QAAQ,GAAG,MAAMF,aAAa,CAACG,GAAd,EAAvB;AACA,UAAMC,aAAa,GAAG,MAAMZ,IAAI,CAACI,uBAAD,EAAyBM,QAAzB,CAAhC;AACA,UAAMT,GAAG,CAACI,sBAAsB,CAACO,aAAD,CAAvB,CAAT;AACA,GALD,CAKC,OAAMC,GAAN,EAAU;AACV,UAAMZ,GAAG,CAACK,oBAAoB,CAACO,GAAG,CAACC,OAAL,CAArB,CAAT;AACA;AACD;AAED,OAAO,UAAUC,yBAAV,GAAqC;AAC3C,QAAMhB,SAAS,CAACG,eAAe,CAACc,sBAAjB,EACXT,oBADW,CAAf;AAEA","sourcesContent":["import {  takeEvery,call,put } from 'redux-saga/effects';\nimport shopActionTypes from './shop.types.jsx';\nimport { firestore,convertCollectionsToMap } from '../../firebase.util.js';\nimport {\n\tfetchCollectionSuccess,\n\tfetchCollectionError,\n} from './shop.action.jsx'\n\nexport function* fetchCollectionAsync(){\n\ttry{\n\t\tconst collectionRef = yield firestore.collection('collection');\n\t\tconst snapshot = yield collectionRef.get();\n\t\tconst collectionMap = yield call(convertCollectionsToMap,snapshot);\n\t\tyield put(fetchCollectionSuccess(collectionMap));\n\t}catch(err){\n\t\tyield put(fetchCollectionError(err.message));\n\t}\n}\n\nexport function* fetchCollectionAsyncStart(){\n\tyield takeEvery(shopActionTypes.FETCH_COLLECTION_START,\n\t\t\t\t\tfetchCollectionAsync);\n}"]},"metadata":{},"sourceType":"module"}